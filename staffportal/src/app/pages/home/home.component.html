<div class="header bg-gradient-info pb-8 pt-5">
    <div class="container-fluid">
      <div class="header-body">
        <h3 class="text-white" style="text-align: center;">Staff Portal by UPTS/PMSS</h3>
        <h4 class="text-white text-uppercase" style="text-align: center;">Welcome {{username}}</h4>
      </div>
    </div>
  </div>
  <!-- Page content -->
<div class="container-fluid mt--7">
    <div class="row">
      <div class="col">
        <div class="card shadow">
          <div class="card-header border-0" style="text-align: center;" >
          </div>
           <div class="card-body">            
    <div class="card">
      <button type="button" class="btn bg-primary" style="margin-right: 0; width: 100%;" (click)="click()"
        [attr.aria-expanded]="!isCollapsed" aria-controls="collapseExample">
        <span class="text-white"><span class="fa fa-coins"></span> <b> Balance Amount</b> </span>
        <br />
      </button>
      <br />
    </div>
    <div class="card">
      <button type="button" class="btn bg-primary" style="margin-right: 0; width: 100%;" (click)="click2()"
        [attr.aria-expanded]="!isCollapsed" aria-controls="collapseExample">
        <span class="text-white"><span class="fa fa-rupee-sign"></span> <b> Add Expense</b> </span>
        <br />
      </button>
    </div>
        </div>
        </div>
      </div>
      <div class="col-xl-4 order-xl-2 mb-5 mb-xl-0">
        <div class="card card-profile shadow">
          <div class="row justify-content-center">
            <div class="col-lg-3 order-lg-2">
              <!-- <div class="card-profile-image">
                <a href="javascript:void(0)">
                  <img src="assets/img/theme/team-4-800x800.jpg" class="rounded-circle">
                </a>
              </div> -->
            </div>
          </div>
          <div class="card-header text-center border-0 pt-md-4 pb-0 pb-md-4">
              <h5>Last 6 Expenses Raised</h5>
          </div>
          <div class="card-body pt-0 pt-md-4">
            <div class="table-responsive">
              <table class="table align-items-center table-flush">
                <thead class="thead-light">
                  <tr>
                    <th scope="col" class="text-dark"><b>Project No</b></th>
                    <th scope="col" class="text-dark"><b>Date</b></th>
                    <th scope="col" class="text-dark"><b>Amount</b></th>
                    <th scope="col" class="text-dark"><b>Worktype</b></th>
                    <th scope="col" class="text-dark"><b>ExpType</b></th>
                    <th scope="col" class="text-dark"><b>Status</b></th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let exp of latestSixEntries">
                    <td class="text-center">
                      <label class="text-dark"  for="">{{exp.projectnumber}}</label>
                    </td>
                    <td class="text-center">
                      <label class="text-dark"  for="">{{exp.createdat | date: "dd-MM-yyyy"}}</label>
                    </td>
                    <td class="text-center">
                      <label class="text-dark" for="">₹   {{exp.amount}}</label>
                    </td>
                    <td class="text-center">
                      <label class="text-dark" for="">{{exp.worktype}}</label>
                    </td>
                    <td class="text-center">
                      <label class="text-dark" for="">{{exp.expensetype}}</label>
                    </td>
                    <td class="text-center" style="font-weight: 800;" [ngClass]="{'text-success': exp.status === 'Approved', 'text-warning' : exp.status === 'UnApproved', 'text-danger' : exp.status === 'Rejected'}">
                      <label class="" for="">{{exp.status}}</label>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-6">
        <div class="card">
          <div class="card-header text-center border-0 pt-md-4 pb-0 pb-md-4">
            <h5>Expenses by Type</h5>
          </div>
          <div class="card-body pt-0 pt-md-4">
            <div class="table-responsive">
              <table class="table align-items-center table-flush">
                <thead class="thead-light">
                  <tr>
                    <th scope="col" class="text-dark"><b>Expense Type</b></th>
                    <th scope="col" class="text-dark"><b>Amount</b></th>
                  </tr>
                </thead>
                <tbody *ngIf="expenseByType && objectKeys(expenseByType).length > 0; else noData">
                  <tr *ngFor="let type of objectKeys(expenseByType)">
                    <td class="text-center">
                      <label class="text-dark"  for=""> {{ type }}</label>
                    </td>
                    <td class="text-center">
                      <label class="text-dark"  for="">₹{{ expenseByType[type] }}</label>
                    </td>
                  </tr>
                </tbody>
              </table>
              <ng-template #noData>
                <p class="text-muted">No data available.</p>
              </ng-template>
            </div>
          </div>
        </div>
      </div>
    
      <div class="col-lg-6">
        <div class="card">
          <div class="card-header text-center border-0 pt-md-4 pb-0 pb-md-4">
            <h5>Expense Summary</h5>
          </div>
          <div class="card-body">
            <h3><strong>Total Expense:</strong> ₹{{ totalExpense }}</h3>
            <h3 *ngIf="highestExpense"><strong>Highest Expense:</strong> ₹{{ highestExpense.amount }} ({{ highestExpense.expensetype }})</h3>
          
          </div>
        </div>
      </div>
    </div>
    
  </div>
